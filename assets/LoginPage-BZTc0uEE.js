import{j as i}from"./ui-vendor-CgDpQ-gO.js";import{u as e,b as a}from"./react-vendor-bU8fvvPN.js";import{u as s,l as o,g as n,s as t,d as l}from"./index-Co0ngb9X.js";import"./supabase-DpMRTrmd.js";const r=()=>{const r=e(),{isAuthenticated:c}=s();return a.useEffect(()=>{c&&r("/home")},[c,r]),i.jsx("div",{className:"login-container",children:i.jsxs("div",{className:"login-split-layout",children:[i.jsx("div",{className:"login-illustration-side",children:i.jsxs("div",{className:"login-illustration-content",children:[i.jsx("img",{src:"/assets/healthcare-illustration-D2EEywkn.png",alt:"Personale sanitario",loading:"lazy"}),i.jsx("h2",{className:"login-illustration-title",children:"Benvenuto in PatientTrack"}),i.jsx("p",{className:"login-illustration-text",children:"La soluzione completa per la gestione dei pazienti"})]})}),i.jsx("div",{className:"login-form-side",children:i.jsx("div",{className:"login-card card",children:i.jsxs("div",{className:"card-body",children:[i.jsx("div",{className:"login-logo-container",children:i.jsx("img",{src:"/assets/logo-CtGPvgcF.png",alt:"PatientTrack Logo",loading:"lazy"})}),i.jsx("h1",{className:"login-title",children:"PatientTrack"}),i.jsx("p",{className:"login-subtitle",children:"Gestione pazienti semplice e sicura"}),i.jsx("div",{className:"login-button-wrapper",children:i.jsxs("button",{type:"button",className:"login-button btn",onClick:async i=>{i.target.disabled=!0;try{const i="1096813530815-bk23h9jv77okogb6pb2k0mtqbb5fo1n0.apps.googleusercontent.com";if(!0&&i){o.info("üöÄ LoginPage: avvio flow GIS diretto (skip incognito check)");try{const{idToken:e,nonce:a}=await n({clientId:i}),{error:s}=await t.auth.signInWithIdToken({provider:"google",token:e,nonce:a});if(s)throw o.warn("‚ùå Errore Supabase signInWithIdToken:",s),s;return o.info("‚úÖ LoginPage: Login GIS completato"),void 0}catch(e){o.warn("‚ùå LoginPage: Errore GIS, fallback a OAuth veloce")}}o.info("üîÑ LoginPage: avvio OAuth redirect");const a=await l();a.success||o.error("LoginPage: Google login button failed",a.error)}catch(a){o.error("LoginPage: Failed to sign in with Google from button",a),i.target.disabled=!1}},children:[i.jsx("span",{className:"material-icons",children:"login"}),"Accedi con Google"]})}),i.jsxs("div",{className:"login-trust-badge",children:[i.jsx("span",{className:"material-icons",children:"verified_user"}),"Connessione sicura e crittografata"]}),i.jsx("div",{className:"login-info-box",children:i.jsxs("p",{className:"login-info-text",children:[i.jsx("span",{className:"material-icons",children:"info"}),"Accesso riservato al personale autorizzato"]})})]})})})]})})};export{r as LoginPage,r as default};
