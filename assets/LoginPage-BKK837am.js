import{j as i}from"./ui-vendor-CgDpQ-gO.js";import{u as e,b as a}from"./react-vendor-bU8fvvPN.js";import{h as s}from"./healthcare-illustration-CgJ1tzue.js";import{u as o,l as n,g as t,s as l,d as r}from"./index-B3u_oT47.js";import"./supabase-DpMRTrmd.js";const c=()=>{const c=e(),{isAuthenticated:d}=o();return a.useEffect(()=>{d&&c("/home")},[d,c]),i.jsx("div",{className:"login-container",children:i.jsxs("div",{className:"login-split-layout",children:[i.jsx("div",{className:"login-illustration-side",children:i.jsxs("div",{className:"login-illustration-content",children:[i.jsx("img",{src:s,alt:"Personale sanitario",loading:"lazy"}),i.jsx("h2",{className:"login-illustration-title",children:"Benvenuto in PatientTrack"}),i.jsx("p",{className:"login-illustration-text",children:"La soluzione completa per la gestione dei pazienti"})]})}),i.jsx("div",{className:"login-form-side",children:i.jsx("div",{className:"login-card card",children:i.jsxs("div",{className:"card-body",children:[i.jsx("div",{className:"login-logo-container",children:i.jsx("img",{src:"/assets/logo-CtGPvgcF.png",alt:"PatientTrack Logo",loading:"lazy"})}),i.jsx("h1",{className:"login-title",children:"PatientTrack"}),i.jsx("p",{className:"login-subtitle",children:"Gestione pazienti semplice e sicura"}),i.jsx("div",{className:"login-button-wrapper",children:i.jsxs("button",{type:"button",className:"login-button btn",onClick:async i=>{i.target.disabled=!0;try{const i="1096813530815-bk23h9jv77okogb6pb2k0mtqbb5fo1n0.apps.googleusercontent.com";if(!0&&i){n.info("üöÄ LoginPage: avvio flow GIS diretto (skip incognito check)");try{const{idToken:e,nonce:a}=await t({clientId:i}),{error:s}=await l.auth.signInWithIdToken({provider:"google",token:e,nonce:a});if(s)throw n.warn("‚ùå Errore Supabase signInWithIdToken:",s),s;return n.info("‚úÖ LoginPage: Login GIS completato"),void 0}catch(e){n.warn("‚ùå LoginPage: Errore GIS, fallback a OAuth veloce")}}n.info("üîÑ LoginPage: avvio OAuth redirect");const a=await r();a.success||n.error("LoginPage: Google login button failed",a.error)}catch(a){n.error("LoginPage: Failed to sign in with Google from button",a),i.target.disabled=!1}},children:[i.jsx("span",{className:"material-icons",children:"login"}),"Accedi con Google"]})}),i.jsxs("div",{className:"login-trust-badge",children:[i.jsx("span",{className:"material-icons",children:"verified_user"}),"Connessione sicura e crittografata"]}),i.jsx("div",{className:"login-info-box",children:i.jsxs("p",{className:"login-info-text",children:[i.jsx("span",{className:"material-icons",children:"info"}),"Accesso riservato al personale autorizzato"]})})]})})})]})})};export{c as LoginPage,c as default};
