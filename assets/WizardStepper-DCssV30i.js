import{b as e}from"./react-vendor-IskFKOXj.js";import{j as t}from"./ui-vendor-4vm5IpWp.js";function r(t){const{steps:r,labels:i,initialStep:s}=t;if(!r||0===r.length)throw new Error("useMultiStepWizard: steps array cannot be empty");const n=r[0],a=s&&r.includes(s)?s:n,[l,o]=e.useState(a),c=r.indexOf(l),u=r.length,d=c<u-1,p=c>0,v=e.useCallback(()=>{d&&o(r[c+1])},[d,c,r]),b=e.useCallback(()=>{p&&o(r[c-1])},[p,c,r]),m=e.useCallback(e=>{r.includes(e)?o(e):console.warn(`useMultiStepWizard: Step "${e}" does not exist in steps array`)},[r]),h=e.useCallback(()=>{o(a)},[a]),g=e.useCallback(e=>i[e]||e,[i]),f=e.useCallback(e=>r.indexOf(e)+1,[r]),x=e.useCallback(e=>e===l,[l]),w=e.useCallback(e=>r.indexOf(e)<c,[c,r]);return{currentStep:l,currentStepIndex:c,totalSteps:u,canGoNext:d,canGoPrev:p,nextStep:v,prevStep:b,goToStep:m,reset:h,getStepLabel:g,getStepNumber:f,isCurrentStep:x,isStepCompleted:w}}class i{static instance=null;liveRegion=null;constructor(){this.createLiveRegion()}static getInstance(){return i.instance||(i.instance=new i),i.instance}createLiveRegion(){const e=document.getElementById("wizard-live-region");if(e)return this.liveRegion=e,void 0;const t=document.createElement("div");t.id="wizard-live-region",t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.style.position="absolute",t.style.left="-10000px",t.style.width="1px",t.style.height="1px",t.style.overflow="hidden",document.body.appendChild(t),this.liveRegion=t}announce(e){this.liveRegion||this.createLiveRegion(),this.liveRegion&&(this.liveRegion.textContent="",setTimeout(()=>{this.liveRegion&&(this.liveRegion.textContent=e)},100))}cleanup(){this.liveRegion&&this.liveRegion.parentNode&&(this.liveRegion.parentNode.removeChild(this.liveRegion),this.liveRegion=null),i.instance=null}}function s(t){const{currentStep:r,getStepLabel:s,totalSteps:n,currentStepNumber:a,enabled:l=!0,focusSelector:o='h1, h2, h3, [role="heading"]'}=t,c=e.useRef(null),u=e.useRef(null);return e.useEffect(()=>{if(!l)return;if(null===u.current)return u.current=r,void 0;if(u.current===r)return;u.current=r;const e=setTimeout(()=>{if(!c.current)return;const e=c.current.querySelector(o);if(e){e.hasAttribute("tabindex")||e.setAttribute("tabindex","-1");const t=window.scrollY;e.focus({preventScroll:!0}),window.scrollTo(0,t);const r=()=>{e.removeAttribute("tabindex"),e.removeEventListener("blur",r)};e.addEventListener("blur",r)}else{c.current.hasAttribute("tabindex")||c.current.setAttribute("tabindex","-1");const e=window.scrollY;c.current.focus({preventScroll:!0}),window.scrollTo(0,e)}const t=`${s(r)}, passo ${a} di ${n}`;i.getInstance().announce(t)},100);return()=>{clearTimeout(e)}},[r,l,o,s,a,n]),c}function n(){e.useEffect(()=>()=>{i.getInstance().cleanup()},[])}function a({currentStep:e,totalSteps:r,getStepLabel:i,getStepNumber:s,themeColor:n="default",stepOrder:a,extraInfo:l,className:o=""}){const c=a.indexOf(e),u=s(e),d=i(e),p=u/r*100,v=`wizard-stepper wizard-stepper--${n} ${o}`.trim();return t.jsxs("div",{className:v,children:[t.jsx("div",{className:"wizard-stepper-progress",children:t.jsx("div",{className:"wizard-stepper-progress-bar",children:t.jsx("div",{className:"wizard-stepper-progress-fill",style:{width:`${p}%`},role:"progressbar","aria-valuenow":u,"aria-valuemin":1,"aria-valuemax":r,"aria-label":`Progresso: ${u} di ${r}`})})}),t.jsxs("div",{className:"wizard-stepper-info",children:[t.jsx("span",{className:"wizard-stepper-label",children:d}),t.jsxs("span",{className:"wizard-stepper-counter",children:[u," di ",r]})]}),l&&t.jsx("div",{className:"wizard-stepper-extra",children:l}),t.jsx("div",{className:"wizard-stepper-dots d-md-none",role:"navigation","aria-label":"Wizard steps",children:a.map((r,s)=>{const n=s+1,a=i(r),l=r===e,o=s<c;return t.jsx("div",{className:`wizard-stepper-dot ${l?"active":""} ${o?"completed":""}`,"aria-label":`Step ${n}: ${a}${l?" (corrente)":""}${o?" (completato)":""}`,"aria-current":l?"step":void 0},r)})})]})}export{a as W,s as a,n as b,r as u};
