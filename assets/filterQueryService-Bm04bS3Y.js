import{l as r,b as e}from"./index-Bw9wUZ85.js";async function a(a,t){try{const{data:o,error:n}=await e.from(a).select(t).not(t,"is",null);if(n)throw r.error(`Error loading distinct values from ${a}.${t}:`,n),n;const i=new Set;return(o??[]).forEach(r=>{const e=r[t];null!=e&&i.add(e)}),Array.from(i)}catch(o){throw r.error(`Failed to load distinct values from ${a}.${t}:`,o),new Error(`Impossibile caricare le opzioni da ${a}.${t}`)}}async function t(){try{const{data:a,error:t}=await e.from("diagnosi").select("nome").order("nome",{ascending:!0});if(t)throw r.error("Error loading diagnosi options:",t),new Error("Impossibile caricare le opzioni di diagnosi.");return a||[]}catch(a){return r.error("Error in loadDiagnosiOptions:",a),[]}}async function o(){try{const r=(await a("pazienti","reparto_appartenenza")).map(r=>"string"==typeof r?r.trim():"").filter(r=>Boolean(r));return Array.from(new Set(r)).sort((r,e)=>r.localeCompare(e,"it",{sensitivity:"base"}))}catch(e){return r.error("Error loading reparto appartenenza values:",e),[]}}async function n(){try{const{data:a,error:t}=await e.from("pazienti").select("reparto_provenienza").not("reparto_provenienza","is",null);if(t)return r.error("Error loading reparto provenienza values:",t),[];if(!a)return[];return a.map(r=>r.reparto_provenienza).filter(r=>null!==r&&"string"==typeof r).map(r=>r.trim()).filter((r,e,a)=>a.indexOf(r)===e).sort((r,e)=>r.localeCompare(e,"it",{sensitivity:"base"}))}catch(a){return r.error("Error loading reparto provenienza values:",a),[]}}async function i(){try{const r=(await a("pazienti","infetto")).map(r=>r?"true":"false");return Array.from(new Set(r))}catch(e){return r.error("Error loading infection values:",e),[]}}function s(r){const e=[{value:"",label:"Tutti"}];return r&&r.length>0&&(r.includes("true")&&e.push({value:"true",label:"SÃ¬"}),r.includes("false")&&e.push({value:"false",label:"No"})),e}export{t as a,i as b,n as c,s as d,a as e,o as l};
