import{f as t}from"./utils-BtSsRyB2.js";class e{constructor(t,e={}){this.selector=t,this.options=e,this.instances=[],this.handleIconClick=this.handleIconClick.bind(this),this.init()}init(){document.querySelectorAll(this.selector).forEach(e=>{e._flatpickr&&e._flatpickr.destroy();const n=t(e,{...this.options,dateFormat:"d/m/Y",disableMobile:!0,locale:{firstDayOfWeek:1,weekdays:{shorthand:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],longhand:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},months:{shorthand:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],longhand:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"]}},parseDate:(t,e)=>{if(!t)return null;const n=t.split("/");if(3===n.length){const t=parseInt(n[0],10),e=parseInt(n[1],10)-1,r=parseInt(n[2],10);return new Date(r,e,t)}return null},formatDate:(t,e)=>{if(!t)return"";return`${t.getDate().toString().padStart(2,"0")}/${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getFullYear()}`}});e._flatpickrInstance=n,this.instances.push(n)}),document.addEventListener("click",this.handleIconClick)}handleIconClick(t){const e=t.target.closest(".input-icon");if(!e)return;const n=e.closest(".input-group-icon");if(!n)return;const r=n.querySelector("[data-datepicker]")||n.querySelector('input[type="text"]');r&&r._flatpickrInstance&&r._flatpickrInstance.toggle()}destroy(){document.removeEventListener("click",this.handleIconClick),this.instances.forEach(t=>{t.element&&delete t.element._flatpickrInstance,t.destroy()}),this.instances=[]}}function n(t,n){return new e(t,n)}export{e as default,n as initCustomDatepickers};
