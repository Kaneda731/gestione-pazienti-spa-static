import{b as e}from"./react-vendor-Bp2pLdQf.js";function t(t){const{steps:n,labels:i,initialStep:r}=t;if(!n||0===n.length)throw new Error("useMultiStepWizard: steps array cannot be empty");const s=n[0],l=r&&n.includes(r)?r:s,[o,u]=e.useState(l),a=n.indexOf(o),c=n.length,d=a<c-1,p=a>0,b=e.useCallback(()=>{d&&u(n[a+1])},[d,a,n]),v=e.useCallback(()=>{p&&u(n[a-1])},[p,a,n]),g=e.useCallback(e=>{n.includes(e)?u(e):console.warn(`useMultiStepWizard: Step "${e}" does not exist in steps array`)},[n]),h=e.useCallback(()=>{u(l)},[l]),f=e.useCallback(e=>i[e]||e,[i]),S=e.useCallback(e=>n.indexOf(e)+1,[n]),m=e.useCallback(e=>e===o,[o]),x=e.useCallback(e=>n.indexOf(e)<a,[a,n]);return{currentStep:o,currentStepIndex:a,totalSteps:c,canGoNext:d,canGoPrev:p,nextStep:b,prevStep:v,goToStep:g,reset:h,getStepLabel:f,getStepNumber:S,isCurrentStep:m,isStepCompleted:x}}class n{static instance=null;liveRegion=null;constructor(){this.createLiveRegion()}static getInstance(){return n.instance||(n.instance=new n),n.instance}createLiveRegion(){const e=document.getElementById("wizard-live-region");if(e)return this.liveRegion=e,void 0;const t=document.createElement("div");t.id="wizard-live-region",t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.style.position="absolute",t.style.left="-10000px",t.style.width="1px",t.style.height="1px",t.style.overflow="hidden",document.body.appendChild(t),this.liveRegion=t}announce(e){this.liveRegion||this.createLiveRegion(),this.liveRegion&&(this.liveRegion.textContent="",setTimeout(()=>{this.liveRegion&&(this.liveRegion.textContent=e)},100))}cleanup(){this.liveRegion&&this.liveRegion.parentNode&&(this.liveRegion.parentNode.removeChild(this.liveRegion),this.liveRegion=null),n.instance=null}}function i(t){const{currentStep:i,getStepLabel:r,totalSteps:s,currentStepNumber:l,enabled:o=!0,focusSelector:u='h1, h2, h3, [role="heading"]'}=t,a=e.useRef(null),c=e.useRef(null);return e.useEffect(()=>{if(!o)return;if(null===c.current)return c.current=i,void 0;if(c.current===i)return;c.current=i;const e=setTimeout(()=>{if(!a.current)return;const e=a.current.querySelector(u);if(e){e.hasAttribute("tabindex")||e.setAttribute("tabindex","-1");const t=window.scrollY;e.focus({preventScroll:!0}),window.scrollTo(0,t);const n=()=>{e.removeAttribute("tabindex"),e.removeEventListener("blur",n)};e.addEventListener("blur",n)}else{a.current.hasAttribute("tabindex")||a.current.setAttribute("tabindex","-1");const e=window.scrollY;a.current.focus({preventScroll:!0}),window.scrollTo(0,e)}const t=`${r(i)}, passo ${l} di ${s}`;n.getInstance().announce(t)},100);return()=>{clearTimeout(e)}},[i,o,u,r,l,s]),a}function r(){e.useEffect(()=>()=>{n.getInstance().cleanup()},[])}export{i as a,r as b,t as u};
